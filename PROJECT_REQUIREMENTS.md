# SME Supply Chain Risk Analysis

## Project Overview

This MVP will deliver an AI-supported due diligence tool that helps SMEs evaluate ESG (Environmental, Social, Governance) and modern slavery risks in their suppliers using open-source data. The system will provide risk ratings, evidence logs, and actionable recommendations through a simple dashboard interface.

---

## Functional Requirements

### Agentic Workflow

| ID | Requirement | Description |
|----|-------------|-------------|
| 1.1 | Data Collection | Agents shall execute queries on publicly accessible data sources such as sanctions lists, corporate registries, ESG databases, debarment lists, Interpol red notices, supplier websites, news/media coverage, and admin-provided files as configured in the admin dashboard |
| 1.2 | Evidence Analysis | An agent shall process collected data, tag sources by quality and recency, and generate evidence logs with source URLs and timestamps, quality/reliability ratings, relevance scores to risk categories, and agent attribution |
| 1.3 | Risk Assessment | An agent shall apply admin-defined scoring criteria to evidence and produce risk ratings with confidence scores, identify red flags, and flag data quality issues |
| 1.4 | Report Generation | An agent shall synthesize findings into a structured report including risk ratings, evidence logs, red flags, data quality issues, EDD recommendations, and actionable next steps with full source traceability |

### Admin Dashboard

| ID | Requirement | Description |
|----|-------------|-------------|
| 2.1 | Risk Framework Configuration | Admin shall be able to create, read, update, and delete risk categories, classifications, scoring weights, thresholds, evaluation rules, best practices, and red flag criteria |
| 2.2 | Data Source Configuration | Admin shall be able to create, read, update, and delete data source configurations including API endpoints, credentials, CSV/JSON file uploads, and URL sources; admin can designate data sources as global (applicable to all countries) or country-specific |
| 2.3 | Country Configuration | Admin shall be able to create, read, update, and delete countries and configure country-specific data sources and evaluation parameters |

### User Dashboard

| ID | Requirement | Description |
|----|-------------|-------------|
| 3.1 | Initiate Supplier Assessment | User shall be able to submit supplier information (name, country of operation, sector/commodity, website URL, and additional context) to initiate an automated risk assessment workflow executed by the agentic system |
| 3.2 | Risk Overview Display | The UI shall display risk ratings per category, confidence scores with traffic light visual indicators, evidence log with clickable sources and agent attribution, red flags and identified issues, data quality warnings |
| 3.3 | Actionable Recommendations | The system shall provide next steps and recommendations generated by agents, including EDD recommendations when high-risk indicators or insufficient data is detected |
| 3.4 | Supplier Questionnaire | The system shall generate supplier questionnaire using AI based on identified gaps and missing evidence, following admin-provided questionnaire templates, and present it to the user |
| 3.5 | Report Management | User shall be able to view list of all past supplier assessment reports, access and review historical results, and delete individual reports from their account |

---

## Non-Functional Requirements

### Reliability

| ID | Requirement | Description |
|----|-------------|-------------|
| 1.1 | Graceful Degradation | System shall continue operating with reduced functionality when individual agents fail, rather than experiencing complete system failure |
| 1.2 | Deterministic Outputs | Agent workflows shall produce consistent results when processing identical inputs, within acceptable variance thresholds |

### Performance

| ID | Requirement | Description |
|----|-------------|-------------|
| 2.1 | Configurable Timeouts | System shall support configurable timeout limits for agent tasks to prevent indefinite blocking and ensure responsiveness |

### Security

| ID | Requirement | Description |
|----|-------------|-------------|
| 3.1 | Authentication | Username and password authentication for both admin and end-user access. Passwords must be hashed and stored securely |
| 3.2 | Ethical Data Collection | System must respect ethical boundaries: respect robots.txt and agents.txt files, no CAPTCHA bypass, no access to login-gated content or paywalls |
| 3.3 | Input Validation | System shall validate and sanitize all user inputs to prevent injection attacks |

### Usability

| ID | Requirement | Description |
|----|-------------|-------------|
| 4.1 | Intuitive Interface | Simple, intuitive interface for non-technical users |
| 4.2 | Clear Presentation | Clear presentation of risk ratings and evidence with agent attribution |
| 4.3 | Intelligent Assistance | System should provide AI-assisted data source discovery that suggests relevant data sources (corporate registries, sanctions lists, ESG databases) when admin adds new countries; admin can review, validate, approve, reject, or modify suggestions |
| 4.4 | Error Messaging | System shall display user-friendly error messages when data sources are unavailable or agents fail, without exposing technical details or stack traces |

### Maintainability

| ID | Requirement | Description |
|----|-------------|-------------|
| 5.1 | Code Documentation | Code must include clear inline comments and documentation for key functions, agent workflows, and configuration logic |
| 5.2 | Modular Design | System components shall be modular and loosely coupled to facilitate updates and modifications |

---

## Tools & Technologies for Consideration

*Note: The technologies listed below are initial recommendations and may be changed, added, or removed as project needs evolve.*

| Category | Technology | Purpose |
|----------|------------|---------|
| AI/Agent Framework | LangChain / LangGraph | Orchestration of agentic workflows, agent chaining, and LLM integration |
| Backend | Python | Core application logic and agent implementation |
| Web Framework | FastAPI | REST API development with async support and automatic documentation |
| Frontend | React | User and admin dashboard interfaces |
| UI Components | shadcn/ui | Pre-built accessible component library for consistent UI design |
| Database | PostgreSQL | Persistent storage for reports, configurations, and user data |
| Caching / Task Queue | Redis | Caching, session management, and background job queue support |
| Web Scraping | Playwright | Automated browser-based data collection from public sources |
| Web Server | Nginx | Reverse proxy, load balancing, and static file serving |
